/* ==========================================================================
   GAMBIARRA Design System
   Aesthetic: "Improvised Excellence" - Industrial/Raw + Playful
   ========================================================================== */

/* --------------------------------------------------------------------------
   CSS Custom Properties (Design Tokens)
   -------------------------------------------------------------------------- */

:root {
  /* Light mode - warm paper tones */
  --gambiarra-bg: hsl(40, 30%, 97%);
  --gambiarra-bg-alt: hsl(35, 25%, 94%);
  --gambiarra-text: hsl(20, 10%, 25%);
  --gambiarra-text-muted: hsl(20, 8%, 45%);
  --gambiarra-text-dimmed: hsl(20, 5%, 60%);
  --gambiarra-accent: hsl(25, 95%, 55%);
  --gambiarra-accent-hover: hsl(25, 95%, 45%);
  --gambiarra-accent-alt: hsl(160, 70%, 35%);
  --gambiarra-border: hsl(30, 15%, 80%);
  --gambiarra-border-strong: hsl(30, 15%, 65%);

  /* Typography */
  --font-mono: "JetBrains Mono", "Fira Code", "SF Mono", monospace;
  --font-sans: "Inter", "Source Sans Pro", system-ui, sans-serif;

  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;

  /* Border radius */
  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 6px;

  /* Shadows */
  --shadow-sm: 0 1px 2px hsla(20, 10%, 20%, 0.05);
  --shadow-md: 0 2px 8px hsla(20, 10%, 20%, 0.08);
  --shadow-lg: 0 4px 16px hsla(20, 10%, 20%, 0.12);

  /* Override Starlight variables */
  --sl-color-bg: var(--gambiarra-bg);
  --sl-color-bg-nav: var(--gambiarra-bg-alt);
  --sl-color-bg-sidebar: var(--gambiarra-bg-alt);
  --sl-color-text: var(--gambiarra-text);
  --sl-color-text-accent: var(--gambiarra-accent);
  --sl-color-accent: var(--gambiarra-accent);
  --sl-color-accent-high: var(--gambiarra-accent-hover);
  --sl-color-gray-5: var(--gambiarra-border);
  --sl-color-hairline-shade: var(--gambiarra-border);
}

/* Dark mode - vintage terminal */
:root[data-theme="dark"] {
  --gambiarra-bg: hsl(200, 15%, 8%);
  --gambiarra-bg-alt: hsl(200, 12%, 11%);
  --gambiarra-text: hsl(45, 20%, 80%);
  --gambiarra-text-muted: hsl(45, 15%, 60%);
  --gambiarra-text-dimmed: hsl(45, 10%, 45%);
  --gambiarra-accent: hsl(25, 95%, 60%);
  --gambiarra-accent-hover: hsl(25, 95%, 70%);
  --gambiarra-accent-alt: hsl(120, 60%, 50%);
  --gambiarra-border: hsl(200, 10%, 20%);
  --gambiarra-border-strong: hsl(200, 10%, 30%);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --gambiarra-bg: hsl(200, 15%, 8%);
    --gambiarra-bg-alt: hsl(200, 12%, 11%);
    --gambiarra-text: hsl(45, 20%, 80%);
    --gambiarra-text-muted: hsl(45, 15%, 60%);
    --gambiarra-text-dimmed: hsl(45, 10%, 45%);
    --gambiarra-accent: hsl(25, 95%, 60%);
    --gambiarra-accent-hover: hsl(25, 95%, 70%);
    --gambiarra-accent-alt: hsl(120, 60%, 50%);
    --gambiarra-border: hsl(200, 10%, 20%);
    --gambiarra-border-strong: hsl(200, 10%, 30%);
  }
}

/* --------------------------------------------------------------------------
   Base Styles
   -------------------------------------------------------------------------- */

body {
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 1.6;
  color: var(--gambiarra-text);
  background-color: var(--gambiarra-bg);
}

/* Code and monospace */
code,
pre,
kbd {
  font-family: var(--font-mono);
}

/* --------------------------------------------------------------------------
   Typography Overrides
   -------------------------------------------------------------------------- */

h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: 600;
  color: var(--gambiarra-text);
  letter-spacing: -0.02em;
}

h1 {
  font-size: 1.75rem;
}

h2 {
  font-size: 1.4rem;
}

h3 {
  font-size: 1.15rem;
}

/* Links */
a {
  color: var(--gambiarra-text);
  text-decoration-color: var(--gambiarra-accent);
  text-underline-offset: 3px;
  transition: color 0.15s ease;
}

a:hover {
  color: var(--gambiarra-accent);
}

/* --------------------------------------------------------------------------
   Starlight Component Overrides
   -------------------------------------------------------------------------- */

/* Header */
header.header {
  background: var(--gambiarra-bg-alt) !important;
  border-bottom: 2px solid var(--gambiarra-border) !important;
}

/* Site title */
.site-title {
  font-family: var(--font-mono) !important;
  font-weight: 700;
  letter-spacing: -0.03em;
}

/* Sidebar */
.sidebar-pane {
  background: var(--gambiarra-bg-alt);
  border-inline-end: 2px solid var(--gambiarra-border) !important;
}

nav.sidebar summary span {
  font-weight: 500;
  color: var(--gambiarra-text) !important;
}

.top-level li a {
  border-radius: 0;
  padding: 0.375rem 1rem !important;
  transition:
    background 0.15s ease,
    border-color 0.15s ease;
}

.top-level li a:hover {
  background: hsla(25, 95%, 55%, 0.08) !important;
}

a[aria-current="page"] {
  background: hsla(25, 95%, 55%, 0.12) !important;
  border-left: 3px solid var(--gambiarra-accent) !important;
  font-weight: 600 !important;
}

/* Search button */
button[data-open-modal] {
  background: var(--gambiarra-bg) !important;
  border: 2px solid var(--gambiarra-border) !important;
  border-radius: var(--radius-md);
  font-family: var(--font-mono);
}

/* Code blocks */
.expressive-code {
  margin: 1rem 0 1.5rem 0 !important;
  border-radius: var(--radius-md);
}

.expressive-code figure {
  background: var(--gambiarra-bg-alt) !important;
  border: 2px solid var(--gambiarra-border) !important;
  border-radius: var(--radius-md);
}

.expressive-code .frame {
  box-shadow: none !important;
}

/* Content panel */
.content-panel {
  padding: 2rem !important;
}

@media (max-width: 50rem) {
  .content-panel {
    padding: 1rem !important;
  }
}

/* Callouts/Asides */
.starlight-aside {
  border: 2px solid var(--gambiarra-border);
  border-radius: var(--radius-md);
  background: var(--gambiarra-bg-alt);
}

.starlight-aside--note {
  border-color: var(--gambiarra-accent-alt);
}

.starlight-aside--tip {
  border-color: var(--gambiarra-accent);
}

/* --------------------------------------------------------------------------
   Landing Page Specific (for Lander.astro)
   -------------------------------------------------------------------------- */

/* Hide default starlight elements on landing page */
:root[data-has-hero] {
  header.header {
    display: none;
  }

  .main-frame {
    padding-top: 0;
  }

  .main-pane > main {
    padding: 0 !important;
  }

  .sl-markdown-content {
    margin-top: 0;
  }
}

/* --------------------------------------------------------------------------
   Utility Classes
   -------------------------------------------------------------------------- */

.text-accent {
  color: var(--gambiarra-accent);
}

.text-muted {
  color: var(--gambiarra-text-muted);
}

.font-mono {
  font-family: var(--font-mono);
}

.uppercase {
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* --------------------------------------------------------------------------
   Animations
   -------------------------------------------------------------------------- */

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes glow-pulse {
  0%,
  100% {
    box-shadow: 0 0 0 0 hsla(25, 95%, 55%, 0);
  }
  50% {
    box-shadow: 0 0 12px 2px hsla(25, 95%, 55%, 0.3);
  }
}

.animate-fade-in {
  animation: fade-in 0.4s ease-out;
}

.hover-glow:hover {
  animation: glow-pulse 1.5s ease-in-out infinite;
}
